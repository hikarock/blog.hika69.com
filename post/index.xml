<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on hikarock blog</title>
    <link>http://blog.hika69.com/post/</link>
    <description>Recent content in Posts on hikarock blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja</language>
    <copyright>All rights reserved - 2015</copyright>
    <lastBuildDate>Wed, 06 Apr 2016 22:26:17 +0900</lastBuildDate>
    <atom:link href="http://blog.hika69.com/post/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>REST API のテストツール Frisby.js</title>
      <link>http://blog.hika69.com/blog/2016/04/06/frisby/</link>
      <pubDate>Wed, 06 Apr 2016 22:26:17 +0900</pubDate>
      
      <guid>http://blog.hika69.com/blog/2016/04/06/frisby/</guid>
      <description>

&lt;p&gt;REST API のテストツール Frisby.js を使ってみた。&lt;/p&gt;

&lt;h3 id=&#34;導入:93f38952e09b7e441a25f845abcaf75b&#34;&gt;導入&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;http://frisbyjs.com/&#34;&gt;REST API Testing—Frisby.js&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;npm で Frisby.js を導入する。&lt;/p&gt;

&lt;p&gt;jasmine-node は依存パッケージで、config は必須ではないけど本番環境と開発環境の切り替えに使う。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ npm i -D frisby jasmine-node config
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ファイル構成はこんな感じになった。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ tree
 .
 ├── package.json
 ├── node_modules
 ├── config
 │  └── test
 │      └── api
 │          └── v1
 │              ├── development.json
 │              └── production.json
 └── test
     └── api
         └── v1
             ├── bar.spec.js
             └── foo.spec.js
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;設定ファイルには、とりあえずAPIのURLだけ追加。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{
  &amp;quot;url&amp;quot;: &amp;quot;http://api.example.com/v1&amp;quot;,
  &amp;quot;url-auth&amp;quot;: &amp;quot;http://test:password@api.example.com/v1&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;package.json&lt;/code&gt; にテストを実行するタスクを追加する。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;  &amp;quot;scripts&amp;quot;: {
    &amp;quot;test:api:development&amp;quot;: &amp;quot;export NODE_ENV=development &amp;amp;&amp;amp; export NODE_CONFIG_DIR=./config/test/api/v1 &amp;amp;&amp;amp; jasmine-node ./test/api/v1&amp;quot;,
    &amp;quot;test:api:production&amp;quot;: &amp;quot;export NODE_ENV=production &amp;amp;&amp;amp; export NODE_CONFIG_DIR=./config/test/api/v1 &amp;amp;&amp;amp; jasmine-node ./test/api/v1&amp;quot;
  },
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;テストを実行する。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ npm run test:api:production
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;json-レスポンス-内の型を検証する:93f38952e09b7e441a25f845abcaf75b&#34;&gt;JSON レスポンス 内の型を検証する&lt;/h3&gt;

&lt;p&gt;例えば以下のようなレスポンスが返るAPIの場合。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{
  &amp;quot;id&amp;quot;: 1,
  &amp;quot;name&amp;quot;: &amp;quot;hikarock&amp;quot;,
  &amp;quot;url&amp;quot;: &amp;quot;http://hika69.com&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;以下の &lt;code&gt;users.spec.js&lt;/code&gt; を用意する。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;var frisby = require(&#39;frisby&#39;);
var config = require(&#39;config&#39;);

frisby.create(&#39;GET:users&#39;)
  .get(config.get(&#39;url&#39;) + &#39;/users/hikarock&#39;)
  .expectStatus(200)
  .expectHeaderContains(&#39;content-type&#39;, &#39;application/json&#39;)
  .expectJSONTypes({
    id: Number,
    name: String,
    url: String
  })
.toss();
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;配列の検証:93f38952e09b7e441a25f845abcaf75b&#34;&gt;配列の検証&lt;/h3&gt;

&lt;p&gt;配列内の1レコードの検証を行いたい場合は &lt;code&gt;expectJSONTypes&lt;/code&gt; の第一引数に &lt;code&gt;users.0&lt;/code&gt; のような独自の記法で指定する。
複数レコードの検証を行う場合は &lt;code&gt;users.*&lt;/code&gt; のようにワイルドカードも指定できる。&lt;/p&gt;

&lt;p&gt;例えば以下のようなレスポンスが返るAPIの場合。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{
  users: [
    {
      &amp;quot;id&amp;quot;: 1,
      &amp;quot;name&amp;quot;: &amp;quot;hikarock&amp;quot;,
      &amp;quot;url&amp;quot;: &amp;quot;http://hika69.com&amp;quot;
    },
    {
      &amp;quot;id&amp;quot;: 2,
      &amp;quot;name&amp;quot;: &amp;quot;foo&amp;quot;,
      &amp;quot;url&amp;quot;: &amp;quot;http://example.com&amp;quot;
    }
    ...
  ]
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;1レコード目を検証する場合は以下のように記述する。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;frisby.create(&#39;GET:users&#39;)
  .get(config.get(&#39;url&#39;) + &#39;/users&#39;)
  .expectStatus(200)
  .expectHeaderContains(&#39;content-type&#39;, &#39;application/json&#39;)
  .expectJSONTypes(&#39;users.0&#39;, {
    id: Number,
    name: String,
    url: String
  })
.toss();
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;まとめ:93f38952e09b7e441a25f845abcaf75b&#34;&gt;まとめ&lt;/h3&gt;

&lt;p&gt;導入も楽で、いい感じ。&lt;/p&gt;

&lt;p&gt;今回はGETの正常系しか試してないので、実行順を考慮する必要のある更新系なども試してみたい。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Raspberry Pi 3 のセットアップ</title>
      <link>http://blog.hika69.com/blog/2016/04/02/raspberry-pi-3/</link>
      <pubDate>Sat, 02 Apr 2016 12:21:22 +0900</pubDate>
      
      <guid>http://blog.hika69.com/blog/2016/04/02/raspberry-pi-3/</guid>
      <description>

&lt;p&gt;使いみちを決めないで Raspberry Pi 3 を買ってしまったけど、とりあえず OS いれて起動するまでセットアップしてみる。&lt;/p&gt;

&lt;h3 id=&#34;購入したもの:be81337d34db55b6da5a36357444f01f&#34;&gt;購入したもの&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.amazon.co.jp/Raspberry-Pi3-Model-B-Element14/dp/B01D1FR2WE%3Fpsc%3D1%26SubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Dhikarock-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3DB01D1FR2WE&#34;&gt;Amazon.co.jp： Raspberry Pi3 Model B (Element14): パソコン・周辺機器&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.amazon.co.jp/%E6%9D%B1%E8%8A%9D-microSDHC-EXCERIA-TOSHIBA-%E6%B5%B7%E5%A4%96%E5%90%91%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E5%93%81/dp/B00ZF75RLK%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Dhikarock-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3DB00ZF75RLK&#34;&gt;Amazon.co.jp： 東芝 microSDHC 32GB EXCERIA 48MB/s UHS-I Class10 TOSHIBA 海外向パッケージ品 [並行輸入品]: パソコン・周辺機器&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.amazon.co.jp/Raspberry-Pi-3B-2B-%E5%B0%82%E7%94%A8%E3%82%B1%E3%83%BC%E3%82%B9-%EF%BC%88Green%EF%BC%89/dp/B00OH026UQ%3Fpsc%3D1%26SubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Dhikarock-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3DB00OH026UQ&#34;&gt;Amazon.co.jp： Raspberry Pi 3B/2B/B+ 専用ケース（Green）: パソコン・周辺機器&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;HDMI ケーブル&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;以下は、すでに持っているもので流用。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;USB キーボード&lt;/li&gt;
&lt;li&gt;USB マウス&lt;/li&gt;
&lt;li&gt;&lt;del&gt;2.5A の電源推奨らしいがとりあえず余っていたiPhone用の 1A の電源&lt;/del&gt; 若干不安だったので後日2.1Aの電源に買い換えた (それでも少し足りてない)&lt;/li&gt;
&lt;li&gt;電源接続用の MicroUSB ケーブル&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;os-のセットアップ:be81337d34db55b6da5a36357444f01f&#34;&gt;OS のセットアップ&lt;/h3&gt;

&lt;p&gt;ここから RASPBIAN JESSIE をダウンロードする。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.raspberrypi.org/downloads/raspbian/&#34;&gt;Download Raspbian for Raspberry Pi&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ダウンロードしたファイルを展開して &lt;code&gt;2016-03-18-raspbian-jessie.img&lt;/code&gt; を確認。&lt;/p&gt;

&lt;p&gt;OSのインストールは以下のドキュメントを見ながら進める。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.raspberrypi.org/documentation/installation/installing-images/mac.md&#34;&gt;Installing operating system images on Mac OS - Raspberry Pi Documentation&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;microSD カードを Mac に挿入してから以下のコマンドを実行する。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ diskutil list
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;microSD カードが &lt;code&gt;/dev/dis2&lt;/code&gt; でマウントされていることを確認。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ sudo diskutil unmountDisk /dev/disk2
$ sudo dd bs=1M if=/Users/hikarock/Downloads/2016-03-18-raspbian-jessie.img of=/dev/disk2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;しばし待つ。完了後に Finder で Mac のデバイスとして認識されているのを確認してから microSD カードを取り出す。
取り出した microSD を Raspberry Pi に挿入する。&lt;/p&gt;

&lt;h3 id=&#34;mac-から-ssh-接続できるようにする:be81337d34db55b6da5a36357444f01f&#34;&gt;Mac から SSH 接続できるようにする&lt;/h3&gt;

&lt;p&gt;電源の Micro USB ケーブルを差すだけで OS が起動する。&lt;/p&gt;

&lt;h4 id=&#34;wi-fi-の接続:be81337d34db55b6da5a36357444f01f&#34;&gt;Wi-Fi の接続&lt;/h4&gt;

&lt;p&gt;右上のメニューから GUI で設定できる。&lt;/p&gt;

&lt;h4 id=&#34;ssh-の有効化:be81337d34db55b6da5a36357444f01f&#34;&gt;SSH の有効化&lt;/h4&gt;

&lt;p&gt;IP アドレスを確認する。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;pi@raspberrypi:~ $ ip addr
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;raspi-config&lt;/code&gt; で設定画面が起動するので、ssh を有効化する。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;pi@raspberrypi:~ $ sudo raspi-config
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Mac から ssh する (初期パスワードは &lt;code&gt;raspberry&lt;/code&gt;)。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ ssh pi@192.168.X.X
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;入れた。ということで何に使おうか。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>BFG で巨大なファイルを削除して GitHub に push するまで</title>
      <link>http://blog.hika69.com/blog/2016/01/25/bfg/</link>
      <pubDate>Mon, 25 Jan 2016 20:04:28 +0900</pubDate>
      
      <guid>http://blog.hika69.com/blog/2016/01/25/bfg/</guid>
      <description>&lt;p&gt;あるリポジトリを GitHub に push した時に、100MB 以上のファイルが含まれていたため拒否されてしまった。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;% git push origin master
...
remote: error: GH001: Large files detected. You may want to try Git Large File Storage - https://git-lfs.github.com.
remote: error: Trace: xxx
remote: error: See http://git.io/iEPt8g for more information.
remote: error: File big.exe is 160.21 MB; this exceeds GitHub&#39;s file size limit of 100.00 MB
To git@github.com:hikarock/some-big-repo.git
 ! [remote rejected] master -&amp;gt; master (pre-receive hook declined)
error: failed to push some refs to &#39;git@github.com:hikarock/some-big-repo.git&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;a href=&#34;https://git-lfs.github.com/&#34;&gt;Git Large File Storage&lt;/a&gt; も使ってみたかったけど課金&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:ae8ab95f0667855683a86e9e88aa2ebd:1&#34;&gt;&lt;a rel=&#34;footnote&#34; href=&#34;#fn:ae8ab95f0667855683a86e9e88aa2ebd:1&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;してないので、素直に &lt;code&gt;more information&lt;/code&gt; のリンクを開く。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://help.github.com/articles/removing-files-from-a-repository-s-history/&#34;&gt;Removing files from a repository&amp;rsquo;s history - User Documentation&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;2パターンのファイル削除方法が掲載されていて、今回はだいぶ昔にコミットされたファイルを消したかったので &lt;code&gt;Removing a file added in an older commit&lt;/code&gt; で紹介されている BFG を使う。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://rtyley.github.io/bfg-repo-cleaner/&#34;&gt;BFG Repo-Cleaner by rtyley&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BFG のサイトから jar ファイルをダウンロードして、&lt;code&gt;.zshrc&lt;/code&gt; にエイリアスを設定した。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;alias bfg=&#39;java -jar ~/bin/bfg-1.12.8.jar&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;リポジトリに移動して、エラーの原因になっている巨大ファイルを &lt;code&gt;git rm&lt;/code&gt; する。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;% cd some-big-repo
% git rm big.exe
rm &#39;big.exe&#39;
% git ci -m &#39;巨大なファイルを削除&#39;
[master xxx] 巨大なファイルを削除
 1 file changed, 0 insertions(+), 0 deletions(-)
 delete mode 100755 big.exe
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;対象リポジトリ内の100M以上のファイルを対象に &lt;code&gt;bfg&lt;/code&gt; を実行。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;% cd ..
% bfg --strip-blobs-bigger-than 100M some-big-repo
SLF4J: Failed to load class &amp;quot;org.slf4j.impl.StaticLoggerBinder&amp;quot;.
SLF4J: Defaulting to no-operation (NOP) logger implementation
SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.

Using repo : some-big-repo/.git

...

Deleted files
-------------

        Filename                       Git id
        --------------------------------------------------
        big.exe                      | xxx (160.2 MB)

In total, 7 object ids were changed. Full details are logged here:

        /Users/hikarock/some-big-repo.bfg-report/2016-01-25/20-00-01

BFG run is complete! When ready, run: git reflog expire --expire=now --all &amp;amp;&amp;amp; git gc --prune=now --aggressive

Has the BFG saved you time?  Support the BFG on BountySource:  https://j.mp/fund-bfg
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;メッセージの最後に出ている通りに &lt;code&gt;git reflog&lt;/code&gt; を実行する。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;% cd some-big-repo
% git reflog expire --expire=now --all &amp;amp;&amp;amp; git gc --prune=now --aggressive
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;もういちど &lt;code&gt;git push&lt;/code&gt; を実行。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;% git push origin master
...
To git@github.com:hikarock/some-big-repo
 * [new branch]      master -&amp;gt; master
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;push できた。&lt;/p&gt;
&lt;div class=&#34;footnotes&#34;&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li id=&#34;fn:ae8ab95f0667855683a86e9e88aa2ebd:1&#34;&gt;容量1GB、帯域1GB/月 までは無料だったので今回のケースでは使ってもよかったかも。&lt;a href=&#34;https://github.com/pricing&#34;&gt;詳細&lt;/a&gt;
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:ae8ab95f0667855683a86e9e88aa2ebd:1&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>スネークケースのファイル名・クラス名をパスカルケースにリネームする</title>
      <link>http://blog.hika69.com/blog/2016/01/07/rename-snake-case-to-pascal-case/</link>
      <pubDate>Thu, 07 Jan 2016 21:46:22 +0900</pubDate>
      
      <guid>http://blog.hika69.com/blog/2016/01/07/rename-snake-case-to-pascal-case/</guid>
      <description>

&lt;p&gt;あるプロジェクトで &lt;a href=&#34;http://www.php-fig.org/psr/psr-0/&#34;&gt;PSR-0&lt;/a&gt; に対応する作業に関連して、スネークケースのファイル名とクラス名をパスカルケースに変換する必要があった。&lt;/p&gt;

&lt;h3 id=&#34;ファイル名の変換:4739118768bed0d63c3796c5bfa8d06b&#34;&gt;ファイル名の変換&lt;/h3&gt;

&lt;p&gt;Mac に rename コマンドをインストールする。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ brew install rename
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;変換前&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ ls -l
-rw-r--r-- 1 hikarock staff 0  1  7 21:47 foo_bar_buzz.php
-rw-r--r-- 1 hikarock staff 0  1  7 21:47 hoge_fuga.php
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;rename コマンドを叩く。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ rename -f &#39;s/(^|_)(.)/\U$2\E/g&#39; *.php
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;変換後&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ ls -l
total 0
-rw-r--r-- 1 hikarock staff 0  1  7 21:47 FooBarBuzz.php
-rw-r--r-- 1 hikarock staff 0  1  7 21:47 HogeFuga.php
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;よさそう。&lt;/p&gt;

&lt;h3 id=&#34;クラス名の変換:4739118768bed0d63c3796c5bfa8d06b&#34;&gt;クラス名の変換&lt;/h3&gt;

&lt;p&gt;Mac に標準で入っている sed は使わずに GNU sed をインストールする。&lt;/p&gt;

&lt;p&gt;参考: &lt;a href=&#34;http://shunirr.hatenablog.jp/entry/2012/12/19/160544&#34;&gt;Homebrew を使って OSX に GNU sed を入れる - おともだちティータイム&lt;/a&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ brew install gnu-sed
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;変換前。対象はクラス名だけにしたいので、他のスネークケースの変数名や関数名を含んだ状態で、余計な箇所が変更されていないか確認しながら検証する。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;?php

class foo_bar_buzz_controller extends bar_buzz_controller {
  private $hoge_fuga;
  public function set_hoge_fuga() {
    //
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;gsed コマンドで変換する。&lt;code&gt;/^class.*\{$/&lt;/code&gt; で対象行でクラス宣言の行だけに絞り込んでいる ( &lt;code&gt;{&lt;/code&gt; は改行した次の行に書く場合の方が多いかもしれないけど、このプロジェクトでは &lt;code&gt;class&lt;/code&gt; と同一行に書いている)。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ gsed -i -r &#39;/^class.*\{$/ s/_(.)/\U\1\E/g&#39; *.php
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;変換後&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;?php

class fooBarBuzzController extends barBuzzController {
  private $hoge_fuga;
  public function set_hoge_fuga() {
    //
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;クラス名の先頭が小文字のままだった。&lt;/p&gt;

&lt;p&gt;今回はたまたま対象クラス名の末尾に必ず &lt;code&gt;Controller&lt;/code&gt; が含まれていたので、以下のようにしてお茶を濁した。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ perl -pi -e &#39;s/ (\w+?)Controller/ \u\1Controller/g&#39; *.php
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;perl コマンドを使ったのは sed で最短一致ができなかったため。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;?php

class FooBarBuzzController extends BarBuzzController {
  private $hoge_fuga;
  public function set_hoge_fuga() {
    //
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;完了。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Node の CLI アプリと Vim などのエディタを連携する</title>
      <link>http://blog.hika69.com/blog/2016/01/02/node-cli-open-editor/</link>
      <pubDate>Sat, 02 Jan 2016 18:56:05 +0900</pubDate>
      
      <guid>http://blog.hika69.com/blog/2016/01/02/node-cli-open-editor/</guid>
      <description>&lt;p&gt;&lt;code&gt;git commit&lt;/code&gt; をコマンドラインから実行した時に Vim が自動で開いてコミットコメントを入力できるが、このような挙動を Node のCLIアプリを自作するときにどうやるか調べた。&lt;/p&gt;

&lt;p&gt;ずばりな回答が以下。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://stackoverflow.com/questions/15726004/is-there-a-way-to-quit-node-js-and-launch-vim-on-a-file&#34;&gt;Is there a way to quit Node.js and launch VIM on a file? - Stack Overflow&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;この回答では Vim を固定で指定しているが &lt;code&gt;process.env.EDITOR&lt;/code&gt; で Vim 以外のエディタにも対応できる。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var fs = require(&#39;fs&#39;);
var file = &#39;~/.foo.txt&#39;;
var editor = require(&#39;child_process&#39;).spawn(process.env.EDITOR, [file], {stdio: &#39;inherit&#39;});

editor.on(&#39;exit&#39;, function() {
  var text = fs.readFileSync(file, &#39;utf-8&#39;);
  console.log(text);
});
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;エディタの終了を &lt;code&gt;exit&lt;/code&gt; イベントで検知してコールバック内でファイルの内容を取得している。&lt;/p&gt;

&lt;p&gt;毎回内容をクリアする場合は、&lt;code&gt;fs.readFile[Sync]&lt;/code&gt; した後に &lt;code&gt;fs.unlink[Sync]&lt;/code&gt; すればよい。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>自作アプリのシンボルフォントを作った</title>
      <link>http://blog.hika69.com/blog/2015/12/28/symbol-font/</link>
      <pubDate>Mon, 28 Dec 2015 20:32:36 +0900</pubDate>
      
      <guid>http://blog.hika69.com/blog/2015/12/28/symbol-font/</guid>
      <description>&lt;p&gt;『「シンボルフォント in Web」草稿』を参考に &lt;a href=&#34;https://www.sketchapp.com/&#34;&gt;Sketch&lt;/a&gt; と IcoMoon でシンボルフォントを作成した。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/cognitom/symbol-font-in-web&#34;&gt;cognitom/symbol-font-in-web&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;リポジトリ内に、Sketch 用のテンプレートファイルがあるのでこれを使わせてもらった。感謝。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://icomoon.io/&#34;&gt;IcoMoon&lt;/a&gt; は自作フォントと FontAwesome 等のシンボルフォントを混ぜて一つのフォントとして生成できるので便利だ。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://dl.dropboxusercontent.com/u/459142/img/blog/icomoon.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;作成したフォントは &lt;a href=&#34;http://hika69.com&#34;&gt;hika69.com&lt;/a&gt; で使用している (ポートフォリオのようなただのリンク集) 。&lt;/p&gt;

&lt;p&gt;自作のシンボルフォントは拡大すると線がガタついてたりするが、遠目にみるといい感じだ。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ブログを Hugo に変えた</title>
      <link>http://blog.hika69.com/blog/2015/11/15/hugo/</link>
      <pubDate>Sun, 15 Nov 2015 13:07:37 +0900</pubDate>
      
      <guid>http://blog.hika69.com/blog/2015/11/15/hugo/</guid>
      <description>

&lt;p&gt;&lt;a href=&#34;http://blog.hika69.com/blog/2015/07/01/roots/&#34;&gt;前回のエントリ&lt;/a&gt;で、Roots について調べていたけどなぜか Hugo でブログをリニューアルしていた。
Octopress にくらべて生成速度が速くてとても快適だ。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://gohugo.io/&#34;&gt;Hugo :: A fast and modern static website engine&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Hugo でのブログ構築についてはいろいろと情報が出回っているので、使用している Hugo 用のテーマ Casper のカスタマイズ方法などをまとめておく。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/vjeantet/hugo-theme-casper&#34;&gt;vjeantet/hugo-theme-casper&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&#34;casper-のカスタマイズ:32ab7241d48fcc174c877413a917f8cf&#34;&gt;Casper のカスタマイズ&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;config.toml&lt;/code&gt; に Casper 独自の設定を加える。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[params]
  customHeaderPartial = &amp;quot;customHeader.html&amp;quot;
  customFooterPartial = &amp;quot;customFooter.html&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;customHeaderPartial&lt;/code&gt; &lt;code&gt;customFooterPartial&lt;/code&gt; にファイルを指定して &lt;code&gt;layouts/partials&lt;/code&gt; 以下に配置すると、それぞれ &lt;code&gt;&amp;lt;/head&amp;gt;&lt;/code&gt; と &lt;code&gt;&amp;lt;/body&amp;gt;&lt;/code&gt;の末尾で読み込んでくれる。&lt;/p&gt;

&lt;h3 id=&#34;シンタックスハイライト:32ab7241d48fcc174c877413a917f8cf&#34;&gt;シンタックスハイライト&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;customHeaderPartial&lt;/code&gt; の指定。&lt;/p&gt;

&lt;p&gt;シンタックスハイライト用に &lt;code&gt;highlight.js&lt;/code&gt; 用の CSS を読み込む。その他に、テーマの上書き用のCSSも読み込んでおく。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;link rel=&amp;quot;stylesheet&amp;quot; href=&amp;quot;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/paraiso.dark.min.css&amp;quot;&amp;gt;
&amp;lt;link rel=&amp;quot;stylesheet&amp;quot; href=&amp;quot;/css/custom.css&amp;quot;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;customFooterPartial&lt;/code&gt; で &lt;code&gt;highlight.js&lt;/code&gt; の本体と実行処理を記述している。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;script src=&amp;quot;https://yandex.st/highlightjs/8.0/highlight.min.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script&amp;gt;hljs.initHighlightingOnLoad();&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;意図しない箇所で組文字に変換される現象の回避:32ab7241d48fcc174c877413a917f8cf&#34;&gt;意図しない箇所で組文字に変換される現象の回避&lt;/h3&gt;

&lt;p&gt;Casper テーマのデフォルトのスタイルでは見出しなどで「ページ」や「株式会社」などの文字列が単一の文字に変換される現象が発生していた。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://ja.wikipedia.org/wiki/%E7%B5%84%E6%96%87%E5%AD%97&#34;&gt;組文字&lt;/a&gt; というものらしいが &lt;code&gt;font-feature-settings&lt;/code&gt; のスタイルを上記の上書き用 CSS でリセットすることで、回避できた。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* {
  -webkit-font-feature-settings: normal !important;
  -moz-font-feature-settings: normal !important;
  -o-font-feature-settings: normal !important;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;詳細は以下。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.riaxdnp.jp/?p=5094&#34;&gt;フォントの機能を使えるCSS3のFont feature settingsとは&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://developer.mozilla.org/ja/docs/Web/CSS/font-feature-settings&#34;&gt;font-feature-settings - CSS | MDN&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;カバー画像の設定:32ab7241d48fcc174c877413a917f8cf&#34;&gt;カバー画像の設定&lt;/h3&gt;

&lt;p&gt;カバー画像はパブリック・ドメインの NASA の写真を公開している Flickr アカウントから探した。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.flickr.com/photos/nasacommons/&#34;&gt;NASA on The Commons | Flickr - Photo Sharing!&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;config.toml&lt;/code&gt; に以下の記述を追加して &lt;code&gt;static&lt;/code&gt; 以下に画像を配置する。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[params]
  cover = &amp;quot;images/cover.jpg&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>静的サイトジェネレータ Roots の覚書</title>
      <link>http://blog.hika69.com/blog/2015/07/01/roots/</link>
      <pubDate>Wed, 01 Jul 2015 22:01:34 +0000</pubDate>
      
      <guid>http://blog.hika69.com/blog/2015/07/01/roots/</guid>
      <description>&lt;p&gt;定期的にブログをリニューアルしたくなる病が発症する。&lt;/p&gt;

&lt;p&gt;以下を条件に探してて roots がよさそうだったので試した。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;node製&lt;/li&gt;
&lt;li&gt;stylus&lt;/li&gt;
&lt;li&gt;ファイル構成がシンプル&lt;/li&gt;
&lt;li&gt;拡張しやすい&lt;/li&gt;
&lt;li&gt;デフォルトのテーマがかっこいい&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&#34;http://roots.cx/&#34;&gt;Roots: Enlightened Static Sites&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;とりあえずインストールする。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ npm install -g roots
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ブログ用のテンプレートを追加する必要があるようなので、動画を見つつ進める。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=RitO5dyPH44&#34;&gt;Roots Templates - YouTube&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;以下のテンプレートを追加。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ roots tpl add blog https://github.com/carrot/roots-template-blog.git
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;-t&lt;/code&gt;でテンプレートを指定してプロジェクトを作成する。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ roots new hikarock-blog -t blog
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;以下のようにデフォルトのテンプレートを指定しておけば、次から&lt;code&gt;-t&lt;/code&gt;は不要になる模様。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ roots tpl default blog
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;生成された。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;.
├── app.coffee
├── app.production.coffee
├── assets
│   ├── css
│   │   ├── _settings.styl
│   │   └── master.styl
│   ├── img
│   └── js
│       └── main.coffee
├── node_modules
├── package.json
├── posts
│   ├── first_post.jade
│   └── second_post.jade
├── public
│   ├── css
│   │   ├── master.css
│   │   └── master.css.map
│   ├── img
│   ├── index.html
│   ├── js
│   │   ├── main.js
│   │   └── main.js.map
│   └── posts
│       ├── first_post.html
│       └── second_post.html
├── readme.md
└── views
    ├── _single.jade
    ├── index.jade
    └── layout.jade
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ファイル構成はシンプルでよさそう。&lt;/p&gt;

&lt;p&gt;サイトを立ち上げる。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ roots watch
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;デフォルトのテーマはないに等しいくらいに無印スタイル&lt;/li&gt;
&lt;li&gt;jade内に markdown を書くのがちょっと慣れない。インデントがだるい&lt;/li&gt;
&lt;li&gt;&lt;del&gt;GitHub味のmarkdown が解釈されていない。パーサーを marked とかに変えたらよいのだろうか&lt;/del&gt;

&lt;ul&gt;
&lt;li&gt;もともと marked だった。一部解釈できない記法が含んでいたので崩れていた&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;デプロイは試してない&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;他はいい感じなので気が向いたら引っ越そう。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>eslint を vim-watchdogs から使う</title>
      <link>http://blog.hika69.com/blog/2015/05/05/eslint/</link>
      <pubDate>Tue, 05 May 2015 17:03:27 +0000</pubDate>
      
      <guid>http://blog.hika69.com/blog/2015/05/05/eslint/</guid>
      <description>&lt;p&gt;vim-watchdogs から eslint が使えるように設定したのでメモ。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/osyo-manga/vim-watchdogs&#34;&gt;osyo-manga/vim-watchdogs&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;eslint をグローバルにインストールする。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://eslint.org/&#34;&gt;ESLint - Pluggable JavaScript linter&lt;/a&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ npm install -g eslint
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;.vimrc&lt;/code&gt;でファイルタイプが&lt;code&gt;javascript&lt;/code&gt;の場合に eslint コマンドが実行されるように設定する。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-vim&#34;&gt;let g:watchdogs_check_BufWritePost_enable = 1
let g:watchdogs_check_CursorHold_enable = 1

&amp;quot;
&amp;quot; 以下を追記
&amp;quot;
let g:quickrun_config = {
\   &amp;quot;javascript/watchdogs_checker&amp;quot; : {
\     &amp;quot;type&amp;quot; : &amp;quot;eslint&amp;quot;
\   }
\ }
call watchdogs#setup(g:quickrun_config)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;これで&lt;code&gt;:WatchdogsRun&lt;/code&gt;した時に eslint が実行される。&lt;/p&gt;

&lt;p&gt;ただ、このままだと ES6/JSX の構文を使っているとエラーとして検出されてしまうので、&lt;code&gt;.eslintrc&lt;/code&gt;の&lt;code&gt;ecmaFeatures&lt;/code&gt;に値を指定して機能毎に有効にする。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;{
  &amp;quot;ecmaFeatures&amp;quot;: {
    &amp;quot;templateStrings&amp;quot;: true
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;.eslintrc&lt;/code&gt;の設定により以下の構文はエラーとして検出されない。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;console.log(`Hello, ${name}!`);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;その他の機能毎の設定方法は以下を参照。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://eslint.org/docs/user-guide/configuring.html&#34;&gt;Documentation - ESLint - Pluggable JavaScript linter&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>JavaScript の IMAP クライアント browserbox で Gmail に接続する</title>
      <link>http://blog.hika69.com/blog/2015/02/24/browserbox/</link>
      <pubDate>Tue, 24 Feb 2015 12:47:45 +0000</pubDate>
      
      <guid>http://blog.hika69.com/blog/2015/02/24/browserbox/</guid>
      <description>&lt;p&gt;iOS 標準のメモアプリのように、IMAP で Gmail と同期できるクライアントを JS で作れないかな、と思って&lt;a href=&#34;https://github.com/whiteout-io/browserbox&#34;&gt;whiteout-io/browserbox&lt;/a&gt;を試してみた。&lt;/p&gt;

&lt;p&gt;もろもろフリーダムな環境にしたかったので&lt;a href=&#34;https://github.com/nwjs/nw.js&#34;&gt;nwjs/nw.js&lt;/a&gt;を使って環境を作る。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;{
  &amp;quot;name&amp;quot;: &amp;quot;imap&amp;quot;,
  &amp;quot;main&amp;quot;: &amp;quot;index.html&amp;quot;,
  &amp;quot;dependencies&amp;quot;: {
    &amp;quot;browserbox&amp;quot;: &amp;quot;^0.8.1&amp;quot;
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html&amp;gt;
  &amp;lt;head&amp;gt;
    &amp;lt;title&amp;gt;mail&amp;lt;/title&amp;gt;
    &amp;lt;script src=&amp;quot;mail.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
  &amp;lt;/head&amp;gt;
  &amp;lt;body&amp;gt;
  &amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var BrowserBox = require(&#39;browserbox&#39;),

var host     = &#39;imap.gmail.com&#39;,
    port     = 993,
    email    = &#39;example@gmail.com&#39;,
    password = &#39;xxxxxxxxxxxxxxxx&#39;,
    mailbox  = &#39;INBOX&#39;;

var client = new BrowserBox(host, port, {
  auth: {
    user: email,
    pass: password
  }
});

client.connect();
client.onauth = function() {
  client.listMailboxes(function(err, mailboxes) {
    console.log(err || mailboxes);
    client.selectMailbox(mailbox, function(err, mailbox) {
      console.log(err || &#39;Mailbox was successfully changed to &#39; + mailbox);
    });
  });
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;実行。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ /Applications/nwjs.app/Contents/MacOS/nwjs .
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Gmail で2段階認証を使っている場合はこのコードで接続できない。
さらに、以下の設定で「安全性の低いアプリ」を許可しないと接続できなかった。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.google.com/settings/security/lesssecureapps&#34;&gt;安全性の低いアプリ - アカウント設定&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;許可しない場合は以下のエラーが出る。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[98549:0224/125046:INFO:CONSOLE(41)] &amp;quot;&amp;quot;[2015-02-24T03:50:46.248Z][browserbox IMAP]&amp;quot; &amp;quot;[1] S: W3 NO [ALERT] Please log in via your web browser: http://support.google.com/mail/accounts/bin/answer.py?answer=78754 (Failure)&amp;quot;&amp;quot;, source: /Users/projects/mail/node_modules/browserbox/node_modules/axe-logger/axe.js (41)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;このままでは実用的ではない感じ。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>新しくなった Stobo の紹介</title>
      <link>http://blog.hika69.com/blog/2015/02/21/stobo/</link>
      <pubDate>Sat, 21 Feb 2015 19:28:21 +0000</pubDate>
      
      <guid>http://blog.hika69.com/blog/2015/02/21/stobo/</guid>
      <description>&lt;p&gt;StoboはMarkdownでプレゼン資料が作れて配信できるWebアプリです。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.storyboards.jp/&#34;&gt;Stobo&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;もともとはストーリーボードという名前だったんだけど、これからはStobo (ストボ) が正式名称です。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;URLはそのままです&lt;/li&gt;
&lt;li&gt;ロゴは @getsukikyu が新しいものを製作中&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;今回の大きな変更点はMarkdownの拡張です。詳細は以下のスライドにまとめています。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.storyboards.jp/viewer/iw1l45&#34;&gt;Stobo Flavored Markdown | Stobo&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;その他に、&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;スライド時のエフェクトの廃止とアルゴリズムの変更&lt;/li&gt;
&lt;li&gt;エディタの操作性の改善

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/hikarock/editorify&#34;&gt;editorify&lt;/a&gt; の導入 (および開発)&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;以前から要望の多いテーマの設定については&lt;code&gt;Stobo 設定記法&lt;/code&gt;で対応予定です。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>npm init 時のデフォルト設定をカスタマイズする</title>
      <link>http://blog.hika69.com/blog/2015/02/21/npm-init/</link>
      <pubDate>Sat, 21 Feb 2015 19:17:39 +0000</pubDate>
      
      <guid>http://blog.hika69.com/blog/2015/02/21/npm-init/</guid>
      <description>&lt;p&gt;&lt;code&gt;npm init&lt;/code&gt;した時にlicenceの種類やauthorの情報を自動的にいれる設定。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ npm config set init.author.name &amp;quot;hikarock&amp;quot;
$ npm config set init.author.email i@hika69.com
$ npm config set init.author.url http://blog.hika69.com
$ npm config set init.license MIT
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;~/.npmrc&lt;/code&gt;というファイルが作られて以下のように設定されている。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;init.license=MIT
init.author.name=hikarock
init.author.email=i@hika69.com
init.author.url=http://blog.hika69.com
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;また&lt;code&gt;npm config list&lt;/code&gt;でも現在の設定を確認できる。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://docs.npmjs.com/cli/config&#34;&gt;config | npm Documentation&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>editorify というライブラリを作った</title>
      <link>http://blog.hika69.com/blog/2015/02/13/editorify/</link>
      <pubDate>Fri, 13 Feb 2015 00:55:57 +0000</pubDate>
      
      <guid>http://blog.hika69.com/blog/2015/02/13/editorify/</guid>
      <description>&lt;p&gt;エディタリファイと読むんだろうか。とにかく&lt;code&gt;fy&lt;/code&gt;ってつけたかっただけな感じで言いづらい jQuery プラグインを作った。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/hikarock/editorify&#34;&gt;hikarock/editorify&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ひとことでいうと &lt;code&gt;&amp;lt;textarea&amp;gt;&lt;/code&gt; を使って簡単なウィジウィグとか作れるライブラリ。
例えば、markdown のリンクを挿入する場合はこんな感じに書く。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;$(&#39;.link&#39;).on(&#39;click&#39;, function (evt) {
  $(&#39;.editor&#39;).editorify([
    [&#39;clear&#39;],
    [&#39;insert&#39;, &#39;[](http://example.com)&#39;],
    [&#39;start&#39;],
    [&#39;right&#39;, 1]
  ]);
});
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;left&lt;/code&gt; とか &lt;code&gt;start&lt;/code&gt; とかでカーソル移動できるので &lt;code&gt;[]&lt;/code&gt; の中にカーソルが移動している状態になる。&lt;a href=&#34;https://dl.dropboxusercontent.com/u/459142/editorify/index.html&#34;&gt;DEMO&lt;/a&gt;はこちら。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.storyboards.jp/&#34;&gt;Stobo&lt;/a&gt; のエディタ部分を絶賛改造中でモンスターブランチがもうスカイツリーくらいに育っているんだけど、その中の成果が分割されて editorify になった。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>IB_DESIGNABLE を使おう</title>
      <link>http://blog.hika69.com/blog/2015/02/10/ibdesignable/</link>
      <pubDate>Tue, 10 Feb 2015 19:55:15 +0000</pubDate>
      
      <guid>http://blog.hika69.com/blog/2015/02/10/ibdesignable/</guid>
      <description>

&lt;p&gt;Xcode6 から使える &lt;code&gt;IB_DESIGNABLE&lt;/code&gt; と &lt;code&gt;IBInspectable&lt;/code&gt; が非常に便利なんだけど情報が少ない。&lt;/p&gt;

&lt;p&gt;ので、基本とかは置いといて、とりあえず知ってることを雑多にまとめてみる。&lt;/p&gt;

&lt;h3 id=&#34;有用なリンク:37abba03a2e327338726ad5c5fd40ef4&#34;&gt;有用なリンク&lt;/h3&gt;

&lt;p&gt;とりあえずここらへんを眺めると良いとおもう。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://developer.apple.com/library/ios/recipes/xcode_help-IB_objects_media/chapters/CreatingaLiveViewofaCustomObject.html&#34;&gt;Creating a Custom View That Renders in Interface Builder&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://nshipster.com/ibinspectable-ibdesignable/&#34;&gt;IBInspectable / IBDesignable - NSHipster&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.weheartswift.com/make-awesome-ui-components-ios-8-using-swift-xcode-6/&#34;&gt;How to make awesome UI components in iOS 8 using Swift and XCode 6 - IBDesignable and IBInspectable&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;ib-designable-な-view-は-uiview-もしくは-nsview-を継承して作る:37abba03a2e327338726ad5c5fd40ef4&#34;&gt;&lt;code&gt;IB_DESIGNABLE&lt;/code&gt; な View は &lt;code&gt;UIView&lt;/code&gt; もしくは &lt;code&gt;NSView&lt;/code&gt; を継承して作る&lt;/h3&gt;

&lt;p&gt;&lt;img src=&#34;https://dl.dropboxusercontent.com/u/459142/img/blog/ib-designable-1.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;UITableViewCell&lt;/code&gt; とか継承して &lt;code&gt;IB_DESIGNABLE&lt;/code&gt; を設定しても IB 上では動かない。Preview でも同様に反映されなかった。残念。&lt;/p&gt;

&lt;p&gt;ただし &lt;code&gt;IBInspectable&lt;/code&gt; は使える。コードを書かないで値を設定できるだけでも便利なので、使い道はあると思う。
心の目で見るんだ。&lt;/p&gt;

&lt;h3 id=&#34;初期値を設定する:37abba03a2e327338726ad5c5fd40ef4&#34;&gt;初期値を設定する&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;initWithCoder&lt;/code&gt; で設定する。ただし、ここで設定した初期値が IB 上のフォームで選択状態になってたりはしない。心の目で見るんだ。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-objective-c&#34;&gt;- (id)initWithCoder:(NSCoder *)aDecoder {
  self = [super initWithCoder:aDecoder];
  if (self != nil) {
    self.cornerRadius = 8;
    self.borderWidth  = 0.5;
  }
  return self;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ibinspectable-で使える型:37abba03a2e327338726ad5c5fd40ef4&#34;&gt;&lt;code&gt;IBInspectable&lt;/code&gt; で使える型&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;enum&lt;/code&gt; が使えると便利そうだと思ったけどだめだった。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://dl.dropboxusercontent.com/u/459142/img/blog/ib-designable-2.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;上でも紹介している、&lt;a href=&#34;https://www.weheartswift.com/make-awesome-ui-components-ios-8-using-swift-xcode-6/&#34;&gt;このエントリ&lt;/a&gt;
にある型を試した。他にも使える型があるのかもしれない。&lt;/p&gt;

&lt;h3 id=&#34;要素の消し忘れに注意:37abba03a2e327338726ad5c5fd40ef4&#34;&gt;要素の消し忘れに注意&lt;/h3&gt;

&lt;p&gt;&lt;img src=&#34;https://dl.dropboxusercontent.com/u/459142/img/blog/ib-designable-3.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;IBInspectable&lt;/code&gt; で設定した値は &lt;code&gt;Identity Inspector&lt;/code&gt; 上の &lt;code&gt;User Defined Runtime Attributes&lt;/code&gt; 上に保存される。
プロパティを設定後に、プロパティ名を変更したり削除したりすると、ここに迷子の要素が残ってしまう。&lt;/p&gt;

&lt;p&gt;迷子の要素がある画面を iOS7.1 で開いたら何もログを出さずに落ちたが、要素を削除したら問題なく起動した(iOS8 では問題なかった)。やっかいだ。&lt;/p&gt;

&lt;h3 id=&#34;ibinspectable-な-view-を継承する:37abba03a2e327338726ad5c5fd40ef4&#34;&gt;&lt;code&gt;IBInspectable&lt;/code&gt; な View を継承する&lt;/h3&gt;

&lt;p&gt;継承した &lt;code&gt;IBInspectable&lt;/code&gt; な View のプロパティが両方 IB 上に表示される。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://dl.dropboxusercontent.com/u/459142/img/blog/ib-designable-4.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;2つの View でそれぞれ設定した値がストーリーボード上に反映されている。&lt;/p&gt;

&lt;p&gt;(&lt;code&gt;UIView&lt;/code&gt; を継承している &lt;code&gt;UITableViewCell&lt;/code&gt; の場合は &lt;code&gt;IB_DESIGNABLE&lt;/code&gt; が動かなかったので、このへんの仕組みがよくわからない感じ)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>hub コマンドで GitHub と GHE に PullRequest する</title>
      <link>http://blog.hika69.com/blog/2015/02/09/git-pr/</link>
      <pubDate>Mon, 09 Feb 2015 19:36:38 +0000</pubDate>
      
      <guid>http://blog.hika69.com/blog/2015/02/09/git-pr/</guid>
      <description>&lt;p&gt;GitHubでは以下のalias (リンク参照) を設定して&lt;code&gt;git pr master&lt;/code&gt;のように使っていたけれど、GHEで動かなかったので&lt;code&gt;.gitconfig&lt;/code&gt;を編集した。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://qiita.com/banyan@github/items/3c82fa357fe355c16f32#comment-cf6dbbe34ce80d0ac3a7&#34;&gt;GitHub へ簡単に Pull Request を送る - Qiita&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code&gt;[alias]
  pr = !REP_OWNER=$(git remote -v | grep -e &#39;(push)&#39; | awk &#39;{print $2}&#39; | awk -F &#39;[:/]&#39; &#39;{print $2}&#39;) &amp;amp;&amp;amp; hub pull-request $2 -h $REP_OWNER:`git rev-parse --abbrev-ref HEAD` -b $REP_OWNER:$1 &amp;amp;&amp;amp; shift &amp;quot;$#&amp;quot; 1&amp;gt;/dev/null 2&amp;gt;/dev/null
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;快適。&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>